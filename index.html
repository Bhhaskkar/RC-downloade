<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>RC Generator â€“ Clean Govt Layout</title>

<style>
    body {
        font-family: Arial, sans-serif;
        background: #f1f1f1;
        padding: 20px;
    }

    .box {
        max-width: 650px;
        margin: auto;
        background: #fff;
        padding: 25px;
        border-radius: 12px;
        box-shadow: 0 0 10px #ccc;
    }

    input, textarea {
        width: 100%;
        padding: 10px;
        margin-top: 8px;
        margin-bottom: 15px;
        border-radius: 6px;
        border: 1px solid #ccc;
        font-size: 14px;
    }

    button {
        width: 100%;
        padding: 12px;
        background: #007bff;
        color: white;
        border: none;
        border-radius: 6px;
        font-size: 18px;
        cursor: pointer;
        margin-top: 10px;
    }
</style>

</head>
<body>

<div class="box">
    <h2 style="text-align:center;">Government RC Generator (No Background)</h2>

    <input id="regn" placeholder="Registration Number">
    <input id="owner" placeholder="Owner Name">
    <input id="father" placeholder="S/W/D Of">
    <input id="purpose" placeholder="Purpose">
    <input id="regndate" placeholder="Registration Date (e.g., 07-Nov-2025)">
    <input id="color" placeholder="Colour">
    <input id="fuel" placeholder="Fuel Type">
    <input id="vehicle" placeholder="Vehicle Class">
    <input id="body" placeholder="Body Type">
    <input id="manufacturer" placeholder="Manufacturer">
    <input id="chassis" placeholder="Chassis Number">
    <input id="engine" placeholder="Engine Number">
    <input id="model" placeholder="Model Number">
    <input id="hypo" placeholder="Hypothecated To">
    <input id="seat" placeholder="Seating Capacity">
    <input id="stand" placeholder="Standing Capacity">
    <input id="rlw" placeholder="RLW">
    <input id="unladen" placeholder="Unladen Weight">
    <input id="cubic" placeholder="Cubic Capacity">
    <input id="wheel" placeholder="Wheel Base">
    <textarea id="address" placeholder="Address"></textarea>
    <input id="authority" placeholder="Issuing Authority">

    <button onclick="generateRC()">Generate RC PDF</button>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

<script>
async function generateRC() {
    const { jsPDF } = window.jspdf;
    const pdf = new jsPDF({
        unit: "pt",
        format: [1012, 638]  // clean card size
    });

    pdf.setFont("helvetica", "bold");

    // ---- POSITION TEXT EXACTLY ----
    pdf.text(`Regn. Number: ${regn.value}`, 40, 60);
    pdf.text(`Regd. Owner: ${owner.value}`, 40, 90);
    pdf.text(`S/W/D Of: ${father.value}`, 40, 120);
    pdf.text(`Purpose: ${purpose.value}`, 40, 150);

    pdf.text(`Regn. Date: ${regndate.value}`, 40, 190);
    pdf.text(`Colour: ${color.value}`, 40, 220);
    pdf.text(`Fuel: ${fuel.value}`, 40, 250);
    pdf.text(`Vehicle Class: ${vehicle.value}`, 40, 280);
    pdf.text(`Body Type: ${body.value}`, 40, 310);
    pdf.text(`Manufacturer: ${manufacturer.value}`, 40, 340);

    pdf.text(`Chassis No: ${chassis.value}`, 40, 370);
    pdf.text(`Engine No: ${engine.value}`, 40, 400);
    pdf.text(`Model No: ${model.value}`, 40, 430);

    pdf.text(`Hypothecated To: ${hypo.value}`, 40, 470);
    pdf.text(`Seat Capacity: ${seat.value}`, 40, 500);
    pdf.text(`Stand Capacity: ${stand.value}`, 40, 530);

    pdf.text(`RLW: ${rlw.value}`, 300, 500);
    pdf.text(`Unladen Wt: ${unladen.value}`, 300, 530);
    pdf.text(`Cubic Capacity: ${cubic.value}`, 300, 560);
    pdf.text(`Wheel Base: ${wheel.value}`, 300, 590);

    pdf.text(`Address: ${address.value}`, 40, 590);
    pdf.text(`Issuing Authority: ${authority.value}`, 40, 620);

    // ---------- QR DATA (GOVERNMENT STYLE) ----------
    const qrString =
        regn.value + "|" +
        chassis.value + "|" +
        engine.value + "|" +
        fuel.value + "|" +
        owner.value + "|" +
        manufacturer.value;

    const qrDataUrl = await generateQR(qrString);
    pdf.addImage(qrDataUrl, "PNG", 700, 200, 250, 250);

    pdf.save("RC-NoBackground.pdf");
}

// QR generator
function generateQR(text) {
    return new Promise((resolve) => {
        const temp = document.createElement("div");
        temp.style.position = "fixed";
        temp.style.left = "-9999px";
        document.body.appendChild(temp);

        new QRCode(temp, {
            text: text,
            width: 300,
            height: 300,
            correctLevel: QRCode.CorrectLevel.H
        });

        setTimeout(() => {
            const img = temp.querySelector("img").src;
            document.body.removeChild(temp);
            resolve(img);
        }, 400);
    });
}
</script>

</body>
</html>
